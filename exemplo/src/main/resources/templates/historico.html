<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Histórico de Procedimentos</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
</head>
<body>
<div class="container mt-4">
<h1>Histórico de Procedimentos</h1>
<h2 th:text="${cliente.nomeCompleto} + ' - ' + ${cliente.cpf}"></h2>
<div class="d-flex justify-content-between mb-3">
<a th:href="@{/procedimentos/novo/{id}(id=${cliente.id})}" class="btn btn-primary">
<i class="bi bi-plus-circle"></i> Novo Procedimento
</a>
<a href="/clientes" class="btn btn-secondary">
<i class="bi bi-arrow-left"></i> Voltar para Clientes
</a>
</div>
<table class="table table-striped">
<thead class="table-dark">
<tr>
<th>Procedimento</th>
<th>Data</th>
<th>Valor</th>
</tr>
</thead>
<tbody>
<tr th:each="proc : ${procedimentos}">
<td th:text="${proc.nome}"></td>
<td th:text="${#temporals.format(proc.data, 'dd/MM/yyyy HH:mm')}"></td>
<td th:text="${proc.valor != null ? 'R$ ' + #numbers.formatDecimal(proc.valor, 1, 'COMMA', 2, 'POINT') : 'Não informado'}"></td>
</tr>
</tbody>
</table>
<div th:if="${procedimentos.empty}" class="alert alert-info">
 Nenhum procedimento registrado para este cliente.
</div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
